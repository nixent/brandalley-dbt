version: 2

models:
  - name: zohodesk_tickets_detailed
    description: "A detailed view of all tickets for zohodesk"
    columns:
      - name: id
        description: "Primary key"
        tests:
          - unique
          - not_null
        meta:
          dimension:
            format: id
          metrics:
            total_zohodesk_tickets:
              label: 'Total number of tickets from Zohodesk'
              type: count_distinct
              description: "Number of tickets in Zohodesk"
              hidden: false
              round: 0      
      - name: created_time
        description: "created_time"
        meta:
          dimension:
            type: date
            time_intervals: ['HOUR', 'DAY', 'WEEK', 'MONTH', 'QUARTER']            
      - name: subject
        description: "Subject of the ticket"
      - name: ticket_number
        description: "ticket_number"
      - name: status
        description: "Status of the ticket"
      - name: status_type
        description: "Type of the status of the ticket"
      - name: due_date
        description: "Due date of the ticket"
        meta:
          dimension:
            type: date
            time_intervals: ['HOUR', 'DAY', 'WEEK', 'MONTH', 'QUARTER']            
      - name: customer_response_time
        description: "time before first response"
      - name: contact_ids
        description: "Id of the contact"
      - name: channel
        description: "Channel the ticket is coming from"
      - name: response_due_date
        description: "Response due date of the ticket"
        meta:
          dimension:
            type: date
            time_intervals: ['HOUR', 'DAY', 'WEEK', 'MONTH', 'QUARTER']            
      - name: assignee_id
        description: "Id of the assignee of the ticket"
      - name: closed_time
        description: "Date when the ticket was closed"
        meta:
          dimension:
            type: date
            time_intervals: ['HOUR', 'DAY', 'WEEK', 'MONTH', 'QUARTER']       
      - name: comment_count
        description: "Count of comments left on the ticket"     
      
